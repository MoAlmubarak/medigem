{"ast":null,"code":"// In api.js\nimport axios from 'axios';\nconst API_BASE_URL = 'http://localhost:3001/api/v1';\nexport const searchDrug = async (drugName, abortSignal) => {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/medications/${encodeURIComponent(drugName)}`, {\n      signal: abortSignal\n    });\n    return response.data;\n  } catch (error) {\n    if (axios.isCancel(error)) {\n      console.log('Request canceled:', error.message);\n      return null;\n    }\n    console.error('API Error:', error);\n    throw error;\n  }\n};\n\n// Usage in component\nconst searchWithCancellation = () => {\n  const abortController = new AbortController();\n  const {\n    signal\n  } = abortController;\n\n  // Cancel any previous request\n  if (currentAbortController) {\n    currentAbortController.abort();\n  }\n  setCurrentAbortController(abortController);\n  searchDrug(drugName, signal).then(\n    /* Handle response */).catch(\n\n    /* Handle error */);\n};","map":{"version":3,"names":["axios","API_BASE_URL","searchDrug","drugName","abortSignal","response","get","encodeURIComponent","signal","data","error","isCancel","console","log","message","searchWithCancellation","abortController","AbortController","currentAbortController","abort","setCurrentAbortController","then","catch"],"sources":["/Users/mo.almubarak/GitRepos/medigem/client/src/services/api.js"],"sourcesContent":["// In api.js\nimport axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:3001/api/v1';\n\nexport const searchDrug = async (drugName, abortSignal) => {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}/medications/${encodeURIComponent(drugName)}`,\n      { signal: abortSignal }\n    );\n    return response.data;\n  } catch (error) {\n    if (axios.isCancel(error)) {\n      console.log('Request canceled:', error.message);\n      return null;\n    }\n    console.error('API Error:', error);\n    throw error;\n  }\n};\n\n// Usage in component\nconst searchWithCancellation = () => {\n  const abortController = new AbortController();\n  const { signal } = abortController;\n  \n  // Cancel any previous request\n  if (currentAbortController) {\n    currentAbortController.abort();\n  }\n  \n  setCurrentAbortController(abortController);\n  searchDrug(drugName, signal)\n    .then(/* Handle response */)\n    .catch(/* Handle error */);\n};"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,8BAA8B;AAEnD,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,WAAW,KAAK;EACzD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAC9B,GAAGL,YAAY,gBAAgBM,kBAAkB,CAACJ,QAAQ,CAAC,EAAE,EAC7D;MAAEK,MAAM,EAAEJ;IAAY,CACxB,CAAC;IACD,OAAOC,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIV,KAAK,CAACW,QAAQ,CAACD,KAAK,CAAC,EAAE;MACzBE,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEH,KAAK,CAACI,OAAO,CAAC;MAC/C,OAAO,IAAI;IACb;IACAF,OAAO,CAACF,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;IAClC,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,MAAMK,sBAAsB,GAAGA,CAAA,KAAM;EACnC,MAAMC,eAAe,GAAG,IAAIC,eAAe,CAAC,CAAC;EAC7C,MAAM;IAAET;EAAO,CAAC,GAAGQ,eAAe;;EAElC;EACA,IAAIE,sBAAsB,EAAE;IAC1BA,sBAAsB,CAACC,KAAK,CAAC,CAAC;EAChC;EAEAC,yBAAyB,CAACJ,eAAe,CAAC;EAC1Cd,UAAU,CAACC,QAAQ,EAAEK,MAAM,CAAC,CACzBa,IAAI;IAAC,sBAAsB,CAC3BC,KAAK;;IAAC,mBAAmB;AAC9B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}